(this.webpackJsonpsimterm=this.webpackJsonpsimterm||[]).push([[0],{118:function(e,t){},131:function(e,t){},133:function(e,t){},182:function(e,t,r){"use strict";r.r(t),r.d(t,"history",(function(){return ge}));var n=r(0),o=r.n(n),s=r(21),c=r.n(s),i=(r(83),r(84),r(1)),a=r.n(i),p=r(2),l=r(68),u=r(69),m=r(17),d=r(77),y=r(76),f=r(7),h=function(e){return{type:"SET_TEMP",temp:e}},g=function(e){return{type:"SET_TERM",term:e}},b=r(71),_=r.n(b),w=r(72),k=r.n(w),x=r(73),v=r.n(x),E=r(15),T=r.n(E);var L=Object(f.b)((function(e){return{term:e.term,temp:e.temp}}),(function(e){return{setTerm:function(t){e(g(t))},setTemp:function(t){return e(h(t))},changeTerm:function(t){return e((function(e){return Promise.resolve(e(g(t)))}))}}}))((function(e){var t=o.a.useRef(null);return e.controls?o.a.createElement("audio",{controls:!0,autoPlay:!0,preload:"auto",id:"something",ref:t},o.a.createElement("source",{src:e.source,type:"audio/mpeg"}),"Your browser does not support the audio element."):o.a.createElement("audio",{autoPlay:!0,preload:"auto",id:"something",ref:t},o.a.createElement("source",{src:e.source,type:"audio/mpeg"}),"Your browser does not support the audio element.")}));var O=Object(f.b)((function(e){return{term:e.term,temp:e.temp}}),(function(e){return{setTerm:function(t){e(g(t))},setTemp:function(t){return e(h(t))},changeTerm:function(t){return e((function(e){return Promise.resolve(e(g(t)))}))}}}))((function(e){var t=o.a.useRef(null);return o.a.createElement("div",{ref:t,dangerouslySetInnerHTML:{__html:e.content}})})),I=null,j=null,B=r(170),S=!1,C=!1,P=!1,H=[],D={},A=null,F=0,R=!1,K=!1,N=!1,q=null,M=!1,U=!1,z=!0,J="",W=!1,Y=300,$=["x","y"],V={x:!1,y:!1,z:!1},X={x:0,y:0,z:0},G=null,Q={text:"processing in offline mode",choice:!1,color:"yellow"},Z=function(){C=!1,P=!1};function ee(){var e=document.querySelectorAll("video, audio");[].forEach.call(e,(function(e){!function(e){e.muted=!0,e.pause()}(e)}))}function te(){var e=document.querySelectorAll("video, audio");[].forEach.call(e,(function(e){!function(e){e.muted=!1}(e)}))}var re=function(e){Object(d.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(l.a)(this,r),(n=t.call(this,e)).su_prompt='<span class="highlight">#</span>hello<span class="highlight">@</span>world <span class="highlight">>></span>',n.u_prompt='<span class="highlight">#</span>hello<span class="highlight">@</span>world <span class="highlight">></span>',n._crypto_su_prompt='<span class="crypto_pre">!</span><span class="crypto_highlight">#</span><span class="crypto_base">hello</span><span class="crypto_highlight">@</span><span class="crypto_base">world</span> <span class="crypto_highlight">>></span>',n._crypto_u_prompt='<span class="crypto_pre">!</span><span class="crypto_highlight">#</span><span class="crypto_base">hello</span><span class="crypto_highlight">@</span><span class="crypto_base">world</span> <span class="crypto_highlight">></span>',n.offline_mode=function(){if(!n.offline)return!1;var e=[];e.push({text:Q.text,choice:!1,color:"yellow"}),n.addLines("",e,!1,!1,!1)},n.no_offline=function(e,t){if(!n.offline)return!1;var r=[];return r.push({text:e||"not available in offline mode",choice:!1,color:"yellow"}),n.addLines(t,r,!0,!0,!1),!0},n.getCaretTopPoint=function(){var e,t,r=document.getSelection().getRangeAt(0),n=r.startContainer,o=r.startOffset;if(o>0)return(t=document.createRange()).setStart(n,o-1),t.setEnd(n,o),{left:(e=t.getBoundingClientRect()).right,top:e.top};if(o<n.length)return(t=document.createRange()).setStart(n,o),t.setEnd(n,o+1),{left:(e=t.getBoundingClientRect()).left,top:e.top};e=n.getBoundingClientRect();var s=getComputedStyle(n),c=(parseInt(s.lineHeight)-parseInt(s.fontSize))/2;return{left:e.left,top:e.top+c}},n.cursorBlink=function(){if(!K)return!1;if(R&&clearTimeout(R),N){document.getElementById("blink").style.display="none",N=!1;var e=300}else document.getElementById("blink").style.display="inline-block",N=!0,e=300;R=setTimeout((function(){n.cursorBlink()}),e)},n.check_questions=function(e){H.length?n.ask(H[0].text,!!H[0].hide,(function(e,t){D[H[0].key]=e,H.splice(0,1),t(),n.terminalInput.value="",n.resetHeight(),n.check_questions()}),!!H[0].prompt):A&&(console.log(D),n.noterm_wait("transmitting"),n.pushSocketData(window.socket,{message:A,payload:D},(function(){A=null,D={}})))},n.no_crypto=function(e){var t=[];t.push({text:"cryptography system not loaded",choice:!1,color:"yellow"}),n.addLines(e,t,!0,!0,!1),n.term_ready()},n.load_crypto=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=document.createElement("script")).async=!0,o.src="./assets/openpgp.min.js",o.id="openpgp_script",o.onload=Object(p.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.openpgp.config.versionstring="simterm",window.openpgp.config.commentstring="simterm",I=window.openpgp,(t=document.createElement("script")).async=!0,t.src="./assets/sha256.js",t.id="sha256_script",t.onload=Object(p.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=window.sha256,e.next=3,I.initWorker({path:"./assets/openpgp.worker.min.js"}).then((function(e){var t="cryptography system loaded",o=[];o.push({text:t,choice:!1,color:"yellow"}),n.addLines("",o,!1,!1,!1),(o=[]).push({text:t="! at the beginning of prompt indicates that cryptography is enabled",choice:!1,color:"yellow"}),n.addLines("",o,!1),(o=[]).push({text:t="use !_[command] for crypto commands, examples:",choice:!1,color:"yellow"}),n.addLines("",o,!1),(o=[]).push({text:t='view your cryptography settings: <span class="green">!_info</span>',choice:!1,color:"yellow"}),n.addLines("",o,!1),(o=[]).push({text:t='set passphrase, name, and email for cryptography: <span class="green">!_config </span><span class="gray">passphrase </span><span class="gray">[name] </span><span class="gray">[email]</span>',choice:!1,color:"yellow"}),n.addLines("",o,!1),n.toggleCrypto(!0),r&&r()}));case 3:case"end":return e.stop()}}),e)}))),n.script_host.appendChild(t);case 9:case"end":return e.stop()}}),e)}))),n.script_host.appendChild(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.copyStringToClipboard=function(e,t,r){var o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),n.copying=!1,document.getElementById("terminal-input").removeAttribute("disabled"),document.getElementById("terminal-input").focus();var s=[];s.push({text:t||"buffer copied",choice:!1,color:"yellow"}),n.addLines(r||"_copy",s,!0,!0,!1)},n.extractAllText=function(e,t){for(var r,n=/"(.*?)"/g,o=[];r=n.exec(e);)o.push(r.pop());return o.length>0?o:t?[e.split(t+" ")[1]]:[]},n.genKey=function(){var e=Object(p.a)(a.a.mark((function e(t){var r,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.term.crypto,o=r.email&&r.email.trim().length>0?[{name:r.name.trim(),email:r.email.trim()}]:[{name:r.name?r.name.trim():""}],s={userIds:o,numBits:t||2048,passphrase:r.passphrase.trim()},e.abrupt("return",I.generateKey(s).then((function(e){var t=e.privateKeyArmored,r=e.publicKeyArmored,o=Object.assign({},n.props.term);return o.crypto.private_key=t.trim(),o.crypto.public_key=r.trim(),o.crypto.revocationSignature=e.revocationSignature,n.props.setTerm(o),new Promise(function(){var e=Object(p.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(o.crypto);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.signIt=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.props.term.crypto,c=s.passphrase,e.abrupt("return",I.key.readArmored(s.private_key.trim()).then((function(e){return e.keys[0].decrypt(c).then((function(n){var s={message:I.cleartext.fromText(t),privateKeys:[e.keys[0]],detached:!!r};return I.sign(s).then((function(e){if(o=e.signature)var t=o.trim();return e.data&&(t=e.data),new Promise((function(e,r){e(t)}))}))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.signDetached=function(){var e=Object(p.a)(a.a.mark((function e(t){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=n.props.term.crypto).hash>0)){e.next=7;break}return e.next=4,n.signIt(t.trim()+"\r\n\r\nSHA-256 hash of public key of original intended recipient of this signed message:\r\n"+r.hash+"\r\n",!0);case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,n.signIt(t.trim(),!0);case 9:o=e.sent;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.verifySig=function(){var e=Object(p.a)(a.a.mark((function e(t){var r,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.term.crypto,e.t0=I,e.t1=I.cleartext.fromText(t),e.next=5,I.signature.readArmored(r.signature);case 5:return e.t2=e.sent,e.next=8,I.key.readArmored(r.from);case 8:return e.t3=e.sent.keys,e.t4={message:e.t1,signature:e.t2,publicKeys:e.t3},e.next=12,e.t0.verify.call(e.t0,e.t4);case 12:if(o=e.sent,!o.signatures[0].valid){e.next=24;break}(s=[]).push({text:"<pre>signed by key id "+o.signatures[0].keyid.toHex()+"</pre>",choice:!1,color:"yellow"}),n.addLines("_crypto_verify_signature",s,!0,!0,!1),(s=[]).push({text:"original message:",choice:!1,color:"yellow"}),s.push({text:"<pre>"+t+"</pre>",choice:!1,color:"yellow"}),n.addLines("",s,!1),e.next=28;break;case 24:return(s=[]).push({text:"<pre>bad signature</pre>",choice:!1,color:"yellow"}),n.addLines("_crypto_verify_signature",s,!0,!0,!1),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.verifyIt=function(e,t){var r,o=n.props.term.crypto;return I.cleartext.readArmored(e).then((function(e){var t={};return t.message=e,I.key.readArmored(o.public_key).then((function(n){return t.publicKeys=n.keys,I.verify(t).then((function(t){if(r=t.signatures[0].valid,window.sign=t.signatures[0],r)var n="signed by key id "+t.signatures[0].keyid.toHex()+"\r\n\r\noriginal message:\r\n"+e.text;else n="bad signature";return new Promise((function(e,t){e(n)}))}))}))}))},n.encrypt=function(){var e=Object(p.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.encryptDecryptFunction(t).then((function(e){return new Promise((function(t,r){t(e.trim())}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.encryptPublic=function(e){return n.encryptDecryptPublicFunction(e,(function(e){return new Promise((function(t,r){t(e.trim())}))}))},n.encryptPublicSystem=function(e){return n.encryptDecryptPublicSystemFunction(e,(function(e){return new Promise((function(t,r){t(e.trim())}))}))},n.encryptDecryptFunction=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.term.crypto,s=o.passphrase,e.next=4,I.key.readArmored(o.private_key);case 4:return c=e.sent.keys[0],e.next=7,c.decrypt(s);case 7:return e.t0=I.message.fromText(t),e.next=10,I.key.readArmored(o.recipient);case 10:return e.t1=e.sent.keys,e.t2=[c],i={message:e.t0,publicKeys:e.t1,privateKeys:e.t2},e.abrupt("return",I.encrypt(i).then((function(e){var t=e.data;return new Promise((function(e,r){e(t)}))})));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.encryptDecryptPublicFunction=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.term.crypto,e.t0=I.message.fromText(t),e.next=4,I.key.readArmored(o.recipient);case 4:return e.t1=e.sent.keys,s={message:e.t0,publicKeys:e.t1},e.abrupt("return",I.encrypt(s).then((function(e){var t=e.data;return new Promise((function(e,r){e(t)}))})));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.encryptDecryptPublicSystemFunction=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.assign({},n.props.term),(s=o.crypto).recipient=n.props.term.public_key,o.crypto=s,n.props.setTerm(o),console.log(n.props.term),e.t0=I.message.fromText(t),e.next=9,I.key.readArmored(n.props.term.public_key);case 9:return e.t1=e.sent.keys,c={message:e.t0,publicKeys:e.t1},e.abrupt("return",I.encrypt(c).then((function(e){var t=e.data;return new Promise((function(e,r){e(t)}))})));case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.decryptDecryptPublicFunction=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.term.crypto,s=o.passphrase,e.next=4,I.key.readArmored(o.private_key);case 4:return c=e.sent.keys[0],e.next=7,c.decrypt(s);case 7:return e.next=9,I.message.readArmored(t);case 9:return e.t0=e.sent,e.t1=[c],i={message:e.t0,privateKeys:e.t1},e.abrupt("return",I.decrypt(i).then((function(e){return new Promise((function(t,r){t(e.data)}))})));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.decrypt=function(e){return n.decryptDecryptFunction(e).then((function(e){return new Promise((function(t,r){t(e)}))}))},n.decryptPublic=function(e){return n.decryptDecryptPublicFunction(e).then((function(e){return new Promise((function(t,r){t(e.trim())}))}))},n.decryptDecryptFunction=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c,i,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.props.term.crypto,s=o.passphrase,e.next=4,I.key.readArmored(o.private_key);case 4:return c=e.sent.keys[0],e.next=7,c.decrypt(s);case 7:return e.next=9,I.key.readArmored(o.from);case 9:return i=e.sent,e.next=12,I.message.readArmored(t);case 12:return e.t0=e.sent,e.t1=i.keys,e.t2=[c],p={message:e.t0,publicKeys:e.t1,privateKeys:e.t2},e.abrupt("return",I.decrypt(p).then((function(e){return new Promise((function(t,r){t(e)}))})));case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.sockets=function(e,t){if(!window.socket){var r="attempting to connect",s=[];n.noterm_wait("","attempting to connect")}var c=_()(window.location.href.indexOf("is_offline_flag_true")>-1?"simterm.com"===window.location.host?"system.simterm.com":"//":"https://system.simterm.com/",{rejectUnauthorized:!1,crypto:!0}),i=new v.a(c,{autoUpgrade:!1,numClients:10});i.on("peer-msg",(function(e){var t="peer said: "+e,r=[];r.push({text:t,choice:!1,color:"white",copy:!0,copy_data:e}),n.addLines("",r,!1)})),i.on("peer_ready",(function(e){})),i.on("upgrade",(function(e){})),i.on("go-private",(function(){i.upgrade(),window.private=i,window.onbeforeunload=function(){window.private&&window.private.disconnect()}})),i.on("disconnect",(function(){i.emit("peer-msg","peer disconnected")})),c.on("connect_error",(function(e){var t="failed connection attempts: "+ ++F,r=[];if(r.push({text:t,choice:!1,color:"red"}),n.addLines("",r,!1),5===F){if(c.disconnect(),document.getElementById("loading").style.display="none",window.socket)t="cannot reconnect to system",n.offline=!0;else{var o=Object.assign({},n.props.term);o.lines=[],n.props.setTerm(o),t="cannot connect to system",n.offline=!0}(r=[]).push({text:t,choice:!1,color:"red"}),n.addLines("",r,!1),n.offline&&((r=[]).push({text:Q.text,choice:!1,color:"yellow"}),n.addLines("",r,!1,!0,!1))}})),c.on("su",(function(e){var t=Object.assign({},n.props.term);t.su=!0,n.props.setTerm(t)})),c.on("u",(function(e){var t=Object.assign({},n.props.term);t.su=!1,n.props.setTerm(t)})),c.on("error",(function(e){var t=[];t.push({text:"error",choice:!1,color:"red"}),n.addLines("",t,!0)})),c.on("offline",(function(e){F=0;var t=Object.assign({},n.props.term);t.socket?n.pushSocket(window.socket,"reconnect "+t.socket):(t.socket=e,n.props.setTerm(t)),window.socket||(t.lines=[],n.props.setTerm(t)),window.socket=c,n.offline=!0,window.socket.disconnect(),n.term_ready();var r=[];r.push({text:e,choice:!1,color:"yellow"}),n.addLines("",r,!1)})),c.on("hello",(function(e){F=0;var t=Object.assign({},n.props.term);t.socket?n.pushSocket(window.socket,"reconnect "+t.socket):(t.socket=e._id,t.public_key=e.public_key,n.props.setTerm(t)),window.socket,window.socket=c,window.socket_callback&&(window.socket_callback(),window.socket_callback=null),n.offline=!1,n.term_ready()})),c.on("run",(function(e){n.socketToMe(e)})),c.on("message",(function(e){var t=[];if(e.content.forEach((function(e,r){var n={text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white",config:e.config?e.config:{},copy:e.copy,copy_data:e.copy_data,hide_prompt:e.hide_prompt};if(e.label&&(n.label=e.label),e.trigger&&(n.trigger=e.trigger),e.ask&&(H=e.ask,A=e.callback),e.sound){var s="simterm.com"===window.location.host?"system.simterm.com":window.location.host,c=window.location.href.indexOf("is_offline_flag_true")>-1?"http://"+s+"/":"https://system.simterm.com/";n.controls=e.controls;var i=!1;!e.loading_sound||e.loading_sound&&U&&z?(n.memo=!0,n.component=o.a.createElement(L,{source:c+e.sound,controls:e.controls}),U=!1):i=!0;var a=e.text;e.reftype&&"art"===e.reftype&&(a=o.a.createElement(O,{content:e.text}));var p={text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white",config:e.config?e.config:{},memo:!0,component:a};e.label&&(p.label=e.label),e.trigger&&(p.trigger=e.trigger),i||t.push(p)}else if(e.reftype&&"art"===e.reftype){n.memo=!0,n.component=o.a.createElement(O,{content:e.text});var l={text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white",config:e.config?e.config:{}};e.label&&(l.label=e.label),e.trigger&&(l.trigger=e.trigger)}t.push(n)})),n.addLines(e.original,t,!1,!1,!!e.clear),H.length&&n.ask(H[0].text,!!H[0].hide,(function(e,t){D[H[0].key]=e,H.splice(0,1),t(),n.terminalInput.value="",n.resetHeight(),n.check_questions()}),!!H[0].prompt),n.cleanUp(),e.content[0].new_name){var r=Object.assign({},n.props.term);r.socket=e.content[0].new_name,n.props.setTerm(r)}t[0].hide_prompt||n.term_ready()})),c.on("encrypted",function(){var e=Object(p.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=3;break}return e.next=3,n.load_crypto("encrypted message");case 3:return e.next=5,n.decryptPublic(t);case 5:r=e.sent,t=JSON.parse(r),s=[],t.content.forEach((function(e,t){var r={text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"};e.label&&(r.label=e.label),e.trigger&&(r.trigger=e.trigger),s.push(r)})),n.addLines(t.original,s,!1,!1,!!t.clear),n.cleanUp(),n.term_ready();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.on("video",(function(e){function t(e,t){var r=document.createElement("video");return""!==e&&(r.src=e),!0===t&&document.getElementById("root").insertBefore(r,document.getElementById("loading")),r}var r=[];e.content.forEach((function(e,n){var o=new t(e.video_url,!1);o.controls=!0;var s=document.createElement("div");s.className="video_half",s.appendChild(o),document.getElementById("root").insertBefore(s,document.getElementById("loading")),o.addEventListener("canplaythrough",(function(){o.play()}),!1),r.push({text:e.text_only,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"})})),n.addLines(e.original,r,!1),n.cleanUp(),n.term_ready()})),c.on("audio",(function(e){var t=[];e.content.forEach((function(e,r){t.push({text:e.text_only,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"});var n=e.sound_url,o=document.createElement("audio");o.autoplay=!0,o.load(),o.addEventListener("load",(function(){o.play()}),!0),o.src=n})),n.addLines(e.original,t,!1),n.cleanUp(),n.term_ready()})),c.on("kick",(function(e){var t=[];e.content.forEach((function(e,r){t.push({text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"})})),n.addLines(e.original,t,!1),n.cleanUp(),c.kick=!0,c.disconnect()})),c.on("clear",(function(e){n.typed=[];var t=Object.assign({},n.props.term,{});t.lines=[],t.su=!1,t.socket=null,n.props.changeTerm(t).then((function(){n.hideConsole(),n.clearHistory(),c.done=!0,c.disconnect()}))})),c.on("reboot",(function(e){n.typed=[];var t=Object.assign({},n.props.term,{});t.lines=[],t.su=!1,t.socket=null,n.props.changeTerm(t).then((function(){window.socket.disconnect(),window.socket=null,window.socket_callback=function(){n.clearHistory(),r="sytem rebooted";var e=[];e.push({text:r,choice:!1,color:"blue"}),n.addLines(null,e,!1)},n.sockets()}),t)})),c.on("crypto",(function(e){var t=Object.assign({},n.props.term);t.crypto=e.crypto,t.crypto=JSON.parse(e.decrypted_crypto),n.props.setTerm(t);var r=[];e.content.forEach((function(e,t){r.push({text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"})})),n.addLines(e.original,r,!1),n.cleanUp(),n.term_ready()})),c.on("theme",(function(e){if(e.theme){var t=document.createElement("link");t.href="/assets/"+e.theme+".css",t.type="text/css",t.rel="stylesheet",t.media="screen,print",t.id="custom_css",document.getElementsByTagName("head")[0].appendChild(t)}else document.getElementById("custom_css")&&document.getElementById("custom_css").remove();var r=Object.assign({},n.props.term);r.theme=e.theme,n.props.setTerm(r);var o=[];e.content.forEach((function(e,t){o.push({text:e.text,choice:!!e.choice&&e.choice,color:e.color?e.color:"white"})})),n.addLines(e.original,o,!1),n.cleanUp(),n.term_ready()})),c.on("disconnect",(function(e){if(!n.offline){if(n.hideConsole(),!c.kick){var t=[];t.push({text:"disconnected",choice:!1,color:"red"}),n.addLines("",t,!c.done)}var r=Object.assign({},n.props.term);r.theme=null,r.su=!1,n.props.setTerm(r)}})),n.cleanUp()},n.interrupt=function(e){e.bind(Object(m.a)(n)),e(Object(m.a)(n))},n.socketToMe=function(e){!function(e){console.log(e)}(e)},n.clearHistory=function(){var e=Object.assign({},n.props.term);e.history.lines=[],e.history.cursor=0,n.props.setTerm(e)},n.pushHistory=function(e,t){var r=Object.assign({},n.props.term);void 0!==t&&null!==t&&(r.history.cursor=0),r.history.lines.push(e),n.props.setTerm(r)},n.cleanUp=function(){var e=Object.assign({},n.props.term);e.lines.forEach((function(t,r){"awaiting"===t.line.class&&e.lines.splice(r,1)})),n.props.setTerm(e),z||(setTimeout(ee,100),setTimeout(ee,500))},n.expandHeight=function(e){document.getElementById("terminal-input").style.height="18px",document.getElementById("terminal-input").style.height=document.getElementById("terminal-input").scrollHeight+"px"},n.resetHeight=function(e){document.getElementById("terminal-input").style.height="18px"},n.getInputSelection=function(e){var t,r,n,o,s,c=0,i=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(c=e.selectionStart,i=e.selectionEnd):(r=document.selection.createRange())&&r.parentElement()===e&&(o=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(n=e.createTextRange()).moveToBookmark(r.getBookmark()),(s=e.createTextRange()).collapse(!1),n.compareEndPoints("StartToEnd",s)>-1?c=i=o:(c=-n.moveStart("character",-o),c+=t.slice(0,c).split("\n").length-1,n.compareEndPoints("EndToEnd",s)>-1?i=o:(i=-n.moveEnd("character",-o),i+=t.slice(0,i).split("\n").length-1))),{start:c,end:i}},n.reFocus=function(){if(n.copying||M)return!0;document.getElementById("terminal-input").removeAttribute("disabled"),document.getElementById("terminal-input").focus()},n.checkKey=function(e){K&&(document.getElementById("blink").style.display="inline-block",N=!1,document.getElementById("blink").style.zIndex=2,document.getElementById("blink").style.left=n.getCaretTopPoint().left-1+"px",q&&clearTimeout(q),q=setTimeout((function(){document.getElementById("blink").style.top=function(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}}(document.getElementById("terminal-input")).top+document.getElementById("terminal-input").clientHeight-18+"px"}),10)),13!==e.keyCode||e.shiftKey||e.preventDefault()},n.checkMoveKey=function(e){if(W&&(e.keyCode>=37&&e.keyCode<=40||[89,90].includes(e.keyCode))){e.preventDefault(),G=e.keyCode;var t=e.key.replace("Arrow","");V[t]&&e.keyCode===G&&clearTimeout(V[t]);var r={};return"z"===t?($[1]="z",!0):"y"===t?($[1]="y",!0):("Left"!==t&&"Down"!==t||(r.action="subtract",r.dir="Left"===t?$[0]:$[1]),"Right"!==t&&"Up"!==t||(r.action="add",r.dir="Right"===t?$[0]:$[1]),X[r.dir]+=Y,r.move_total=X[r.dir],V[t]&&e.keyCode===G&&clearTimeout(V[t]),!1)}},n.checkWindowKey=function(e){if(e.ctrlKey&&67===e.keyCode&&("waiting"===n.props.term.state||C||W)){W=!1;var t=n.typer;if(n.typer=!1,n.speed=!1===n.typer?0:t,C){var r=[];r.push({text:"input canceled",choice:!1,color:"yellow"}),n.addLines(null,r,!1)}return C=!1,P=!1,S=!1,"waiting"===n.props.term.state?(e.preventDefault(),n.term_ready()):"waiting"!==n.props.term.state&&(e.preventDefault(),n.terminalInput.value="",n.resetHeight(),n.term_ready()),setTimeout((function(){n.typer=t,n.speed=!1===n.typer?0:n.typer}),1),document.getElementById("loading").style.display="none",n.cleanUp(),!1}if(W&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault(),G=e.keyCode;var o=e.key.replace("Arrow","");V[o]&&e.keyCode===G&&clearTimeout(V[o]);var s={};return"z"===o?($[1]="z",!0):"y"===o?($[1]="y",!0):("Left"!==o&&"Down"!==o||(s.action="subtract",s.dir="Left"===o?$[0]:$[1]),"Right"!==o&&"Up"!==o||(s.action="add",s.dir="Right"===o?$[0]:$[1]),s.move_total=X[s.dir],V[o]=setTimeout((function(){"subtract"===s.action&&(s.move_total=-1*s.move_total),n.pushSocket(window.socket,"change_position "+s.dir+" "+s.move_total),X[s.dir]=0}),0),W&&(e.keyCode>=37&&e.keyCode<=40||[89,90].includes(e.keyCode)),!0)}switch(e.keyCode){case 27:if(W=!1,t=n.typer,n.typer=!1,n.speed=!1===n.typer?0:t,F){if(window.socket&&window.socket.disconnect(),document.getElementById("loading").style.display="none",window.socket){var c="cannot reconnect to system";n.offline=!0}else{var i=Object.assign({},n.props.term);i.lines=[],n.props.setTerm(i),c="cannot connect to system",n.offline=!0}(r=[]).push({text:c,choice:!1,color:"red"}),n.addLines("",r,!1),n.offline&&((r=[]).push({text:Q.text,choice:!1,color:"yellow"}),n.addLines("",r,!1,!0,!1)),F=0}C&&((r=[]).push({text:"input canceled",choice:!1,color:"yellow"}),n.addLines(null,r,!1)),C=!1,P=!1,S=!1,"waiting"===n.props.term.state?(e.preventDefault(),n.term_ready()):"waiting"!==n.props.term.state&&(e.preventDefault(),n.terminalInput.value="",n.resetHeight(),n.term_ready()),setTimeout((function(){n.typer=t,n.speed=!1===n.typer?0:n.typer}),1),n.cleanUp();break;case 38:if(e.preventDefault(),!(i=Object.assign({},n.props.term)).history.lines.length)return!0;i.history.cursor++,i.history.cursor>i.history.lines.length&&(i.history.cursor=1),n.terminalInput.value=i.history.lines[i.history.lines.length-i.history.cursor],n.props.setTerm(i);break;case 40:if(e.preventDefault(),!(i=Object.assign({},n.props.term)).history.lines.length)return!0;i.history.cursor--,i.history.cursor<1&&(i.history.cursor=i.history.lines.length),n.terminalInput.value=i.history.lines[i.history.lines.length-i.history.cursor],n.props.setTerm(i);break;default:if(K)var a=n.terminalInput.innerText.length;else a=n.terminalInput.value.length;n.terminalInput&&a?n.expandHeight(e):n.resetHeight(e)}},n.readLine=function(e){if(e.preventDefault(),K)var t=n.terminalInput.innerText.trim(),r=n.terminalInput.innerText;else t=n.terminalInput.value.trim(),r=n.terminalInput.value;if(K&&(document.getElementById("blink").style.zIndex=1,document.getElementById("blink").style.left=n.getCaretTopPoint().left-1+"px",setTimeout((function(){document.getElementById("blink").style.top=function(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}}(document.getElementById("terminal-input")).top+document.getElementById("terminal-input").clientHeight-18+"px",N=!1}),100)),13===e.keyCode&&!e.shiftKey){if(S=!1,!1!==C)return C(t,Z),!1;if(!t)return!0;if(K){var o=n.terminalInput.innerText.trim().split(" ")[0].trim();n.terminalInput.innerText=""}else o=n.terminalInput.value.trim().split(" ")[0].trim(),n.terminalInput.value="";if(n.resetHeight(),document.getElementById("terminal-input").focus(),n.pushHistory(t,0),window.private){window.private.emit("peer-msg",t);var s="you said: "+t,c=[];c.push({text:s,choice:!1,color:"gray"}),n.addLines("",c,!1)}else n.custom&&"_unload_sim"!==t?(t=r,n.customprocess(t,o)):(t=r,n.process(t,o))}},n.hideConsole=function(){n.hideID("terminal_root")},n.ask=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];C=r,P=!o,t&&(S=!0);var s=[];s.push({text:e,choice:!1,color:"blue"}),n.addLines(null,s,!1)},n.noterm_wait=function(e,t,r){var o=n.offline?"Awaiting offline response...":"Awaiting response...";if(t){o=""+t}var s=[];s.push({text:o,choice:!1,color:"yellow",class:"awaiting",config:{typer:!1},offline:r}),n.addLines(e,s,!1,!1,!1),n.hideID("terminal_root");var c=Object.assign({},n.props.term);c.state="waiting",n.props.setTerm(c)},n.term_wait=function(e,t,r){var o=n.offline?"Awaiting offline response...":"Awaiting response...";if(t){o=""+t}var s=[];s.push({text:o,choice:!1,color:"yellow",class:"awaiting",config:{typer:!1},offline:r}),n.addLines(e,s,!0),n.hideID("terminal_root");var c=Object.assign({},n.props.term);c.state="waiting",n.props.setTerm(c)},n.term_ready=function(e,t){document.getElementById("loading").style.display="none";var r=Object.assign({},n.props.term);if(r.state="ready",n.props.setTerm(r),n.offline&&e){var o=[];o.push({text:t||Q.text,choice:!1,color:"yellow",config:{typer:!1}}),n.addLines("",o,!1,!1,!1)}n.showID("terminal_root"),n.reFocus(),n.resetHeight();var s=document.body.scrollHeight;if(window.devicePixelRatio>1){var c=1/window.devicePixelRatio;s=s*c-window.innerHeight}W?(window.scrollTo(0,document.body.scrollHeight),setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),10)):(window.scrollTo(0,s),setTimeout((function(){s=document.body.scrollHeight,window.scrollTo(0,s)}),10),setTimeout((function(){s=document.body.scrollHeight,window.scrollTo(0,s)}),100),setTimeout((function(){s=document.body.scrollHeight,window.scrollTo(0,s)}),500)),setTimeout((function(){var e=function(e){var t=0,r=0;do{t+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:r}};document.getElementById("blink").style.left=e(document.getElementById("terminal-input")).left-1+"px",document.getElementById("blink").style.top=e(document.getElementById("terminal-input")).top+"px"}),10)},n.faq=function(){var e=[];e.push({text:'Commands are displayed in <span class="green">this color</span>.',choice:!1,config:{typer:!1}}),n.addLines("help",e,!0,!0,!1)},n.help=function(){var e=[];e.push({text:'Commands are displayed in <span class="green">this color</span>.',choice:!1,config:{typer:!1},offline:n.offline,offline_message:"offline help"}),e.push({text:'Values that you provide are displayed in <span class="gray">this color</span>.',choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:"example:",choice:!1,config:{typer:!1}}),e.push({text:"The following command is displayed in the help instructions:",choice:!1,config:{typer:!1}}),e.push({text:'<span class="green">_crypto_passphrase</span> <span class="gray">passphrase</span>',choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:'To use this command you will replace the value of <span class="gray">passphrase</span> with the example value of <span class="gray">abc123</span> when you input the command as shown here:',choice:!1,config:{typer:!1}}),e.push({text:'<span class="gray">_crypto_passphrase abc123</span>',choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:"Optional values are displayed in square brackets.",choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:"example:",choice:!1,config:{typer:!1}}),e.push({text:'<span class="green">_crypto_passphrase</span> <span class="gray">passphrase [name]</span>',choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:"available offline commands:",choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:'<span class="green">_crypto</span>',choice:!1,config:{typer:!1}}),e.push({text:"enables cryptography functions",choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:'<span class="green">connect</span>',choice:!1,config:{typer:!1}}),e.push({text:"attempts to switch from offline mode to online mode",choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),e.push({text:'<span class="green">login</span>',choice:!1,config:{typer:!1}}),e.push({text:"allows you to log in to the system and access restricted features if you have credentials",choice:!1,config:{typer:!1}}),e.push({text:"&nbsp;",choice:!1,config:{typer:!1}}),n.addLines("help",e,!0,!0,!1),n.term_ready()},n.customprocess=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("exit"!==t&&"quit"!==t){e.next=7;break}return o=Object.assign({},n.props.term),"You should try again sometime",s=[],o.lines=[],n.props.changeTerm(o).then((function(){n.offline||s.push({text:"disconnected",choice:!1,color:"red"}),s.push({text:"You should try again sometime",choice:!1,color:"green"}),n.addLines(t,s,!1,!1,!1),clearTimeout(n.playing),n.hideConsole()})),e.abrupt("return",!1);case 7:(s=[]).push({text:"permission required",choice:!1,color:"red"}),n.addLines(t,s,!1,!1,!1);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.process=function(){var e=Object(p.a)(a.a.mark((function e(t,r){var o,s,c,i,p,l,u,m,d,y,f,h,g,b,_,w,k,x,v,E,L,O,S,C,P,H,D,A,F,N,q,V,X,G,Q,Z,re,ne,oe,se,ce,ie,ae,pe,le,ue,me,de,ye,fe,he,ge,be,_e,we,ke,xe,ve,Ee,Te,Le,Oe,Ie,je,Be,Se,Ce;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.toLowerCase(),e.t0=o,e.next="help"===e.t0||"?"===e.t0?4:"quit"===e.t0||"exit"===e.t0?6:"clear"===e.t0||"cls"===e.t0?12:"echo"===e.t0?17:"id"===e.t0?19:"set"===e.t0?22:"login"===e.t0?39:"nickname"===e.t0?46:"theme"===e.t0?49:"_zoom"===e.t0?52:"_blink"===e.t0?55:"_move"===e.t0?58:"_mute"===e.t0||"_unmute"===e.t0||"_sound"===e.t0?70:"_type"===e.t0?79:"_frame"===e.t0?90:"_dos_file"===e.t0?96:"_win_file"===e.t0?108:"_win"===e.t0?120:"_old"===e.t0?132:"_dos"===e.t0?142:"_full"===e.t0?154:"_dos_full"===e.t0?158:"_unload_sim"===e.t0?170:"_unload"===e.t0||"_nodos"===e.t0?176:"offline"===e.t0||"_offline"===e.t0?182:"connect"===e.t0||"online"===e.t0||"_connect"===e.t0||"_online"===e.t0||"#"===e.t0?186:"_load_sim"===e.t0?196:"_force_online"===e.t0?203:"!_to"===e.t0||"_crypto_to"===e.t0?209:"!_push"===e.t0||"_crypto_push"===e.t0?228:"!_buffer"===e.t0||"_crypto_buffer"===e.t0?252:"!_info"===e.t0||"_crypto_info"===e.t0?261:"!_reset"===e.t0||"_crypto_reset"===e.t0?284:"!_clear"===e.t0||"_crypto_clear"===e.t0?301:"!_encrypt"===e.t0||"_crypto_encrypt"===e.t0?315:"!_key"===e.t0||"_crypto_key"===e.t0?338:"!_decrypt"===e.t0||"_crypto_decrypt"===e.t0?351:"!_encrypt_public"===e.t0||"_crypto_encrypt_public"===e.t0?359:"!_decrypt_public"===e.t0||"_crypto_decrypt_public"===e.t0?382:"!_encrypt_system"===e.t0||"_crypto_encrypt_system"===e.t0?388:"!_encrypt_system_generate"===e.t0||"_crypto_encrypt_system_generate"===e.t0?404:"_line"===e.t0?420:"_copy"===e.t0?425:"_copy_buffer"===e.t0?430:"_paste"===e.t0?435:"!_export"===e.t0||"_crypto_export"===e.t0?438:"!_import"===e.t0||"_crypto_import"===e.t0?445:"!_import_store"===e.t0||"_crypto_import_store"===e.t0?454:"!_export_store"===e.t0||"_crypto_export_store"===e.t0?462:"!_remove_store"===e.t0||"_crypto_remove_store"===e.t0?471:"_hash"===e.t0?480:"!_set"===e.t0||"!_"===e.t0||"_crypto_set"===e.t0?506:"!_hash"===e.t0||"_crypto_hash"===e.t0?527:"!_hash_info"===e.t0||"_crypto_hash_info"===e.t0?536:"!_passphrase"===e.t0||"_crypto_passphrase"===e.t0?545:"!_recipient"===e.t0||"_crypto_recipient"===e.t0?553:"!_@"===e.t0?566:"!_signature"===e.t0||"_crypto_signature"===e.t0?577:"!_from"===e.t0||"_crypto_from"===e.t0?589:"!_email"===e.t0||"_crypto_email"===e.t0?602:"!_name"===e.t0||"_crypto_name"===e.t0?614:"!_load"===e.t0||"_crypto_load"===e.t0?626:"!_target"===e.t0||"_crypto_target"===e.t0?638:"!_public"===e.t0||"_crypto_public"===e.t0?650:"!_private"===e.t0||"_crypto_private"===e.t0?658:"!_sign_detached"===e.t0||"_crypto_sign_detached"===e.t0?666:"!_sign"===e.t0||"_crypto_sign"===e.t0?674:"!_verify_signature"===e.t0||"_crypto_verify_signature"===e.t0?692:"!_verify"===e.t0||"_crypto_verify"===e.t0?695:"_set_font"===e.t0?701:"_font"===e.t0?717:"_"===e.t0?725:"!_update"===e.t0||"_crypto_update"===e.t0?727:"_!gen"===e.t0||"!_generate"===e.t0||"_crypto_generate"===e.t0?733:"!_config"===e.t0||"_crypto_config"===e.t0?740:"!_settings"===e.t0||"_crypto_settings"===e.t0?751:"!_off"===e.t0||"_!!"===e.t0||"_nocrypto"===e.t0?756:"_!"===e.t0||"!"===e.t0||"!_on"===e.t0||"_crypto"===e.t0?758:"reboot"===e.t0?763:"ask"===e.t0?769:"say"===e.t0?772:"play"===e.t0?775:786;break;case 4:return n.offline?n.help():(n.term_wait(t),n.pushSocket(window.socket,t,(function(){}))),e.abrupt("break",789);case 6:return s=Object.assign({},n.props.term),c="You should try again sometime",i=[],s.lines=[],n.props.changeTerm(s).then((function(){n.offline||i.push({text:"disconnected",choice:!1,color:"red"}),i.push({text:c,choice:!1,color:"green"}),n.addLines(t,i,!1,!1,!1),clearTimeout(n.playing),n.hideConsole()})),e.abrupt("break",789);case 12:return(s=Object.assign({},n.props.term)).lines=[],n.props.setTerm(s),clearTimeout(n.playing),e.abrupt("break",789);case 17:return n.offline?(p=t.split(r+" ")[1],(i=[]).push({text:p,choice:!1,color:"yellow",offline:n.offline}),n.addLines(t,i,!0,!0,!1)):(n.term_wait(t),n.pushSocket(window.socket,t)),e.abrupt("break",789);case 19:return n.term_wait(t),n.pushSocket(window.socket,t),e.abrupt("break",789);case 22:if(!n.no_offline(null,t)){e.next=24;break}return e.abrupt("return",!1);case 24:if(t.split(r+" ")[1]){e.next=29;break}return(i=[]).push({text:"id required",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("return",!1);case 29:if(l=function(e,t){n.term_wait(t),n.pushSocket(window.socket,e,(function(e){document.getElementById("custom_css")&&document.getElementById("custom_css").remove();var t=Object.assign({},n.props.term);t.history.lines=[],t.history.cursor=0,n.props.setTerm(t)}))},(u=t.split("set ")[1])&&(m=u.split(" ")[0]),m&&(d=u.split(m+" ")[1]),y="set "+m,!d||"!"!==d){e.next=37;break}return n.ask("enter password",!0,(function(e,t){l("set "+m+" "+e,y),t()})),e.abrupt("return",!1);case 37:return l(t,y),e.abrupt("break",789);case 39:if(!n.no_offline("login not available in offline mode",t)){e.next=41;break}return e.abrupt("return",!1);case 41:return l=function(e,t){n.term_wait(t),n.pushSocket(window.socket,e,(function(e){document.getElementById("custom_css")&&document.getElementById("custom_css").remove();var t=Object.assign({},n.props.term);t.history.lines=[],t.history.cursor=0,n.props.setTerm(t)}))},(u=t.split(r+" ")[1])&&(m=u.split(" ")[0]),m?(y="login "+m,n.ask("enter password",!0,(function(e,t){l("set "+m+" "+e,y),t()}),!1)):n.ask("enter session id",!0,(function(e,t){y="login "+e,t(),n.terminalInput.value="",n.resetHeight(),n.ask("enter password for "+e,!0,(function(t,r){l("set "+e+" "+t,y),r()}),!1)}),!1),e.abrupt("break",789);case 46:return n.term_wait(t),n.pushSocket(window.socket,t,(function(){var e=Object.assign({},n.props.term);e.nickname=t.split(" ")[1],n.props.setTerm(e)})),e.abrupt("break",789);case 49:return(f=t.split(r+" ")[1])&&"reset"!==f?(n.term_wait(t),n.pushSocket(window.socket,t,(function(){var e=document.createElement("link");e.href="/assets/"+f+".css",e.type="text/css",e.rel="stylesheet",e.media="screen,print",e.id="custom_css",document.getElementsByTagName("head")[0].appendChild(e);var r=Object.assign({},n.props.term);r.theme=t.split(" ")[1],n.props.setTerm(r)}))):(document.getElementById("custom_css")&&document.getElementById("custom_css").remove(),n.term_wait(t),n.pushSocket(window.socket,"theme reset",(function(){var e=Object.assign({},n.props.term);e.theme=null,n.props.setTerm(e)}))),e.abrupt("break",789);case 52:return(h=t.split(r+" ")[1])?(document.body.style.transform="scale("+h+")",document.body.style.transformOrigin="0 0"):(document.body.style.transform="scale(1)",document.body.style.transformOrigin="0 0"),e.abrupt("break",789);case 55:return"on"===(h=t.split(r+" ")[1])?(K=!0,(i=[]).push({text:"blinking on",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),document.getElementById("blink-sheet")&&document.getElementById("blink-sheet").remove(),g='<style id="blink-sheet">\n          \n            #terminal-input {\n              width: auto !important;\n              display: inline;\n              flex: none;\n              caret-color: transparent;\n            }\n\n            </style>',document.head.insertAdjacentHTML("beforeend",g),document.getElementById("blink").style.left=n.getCaretTopPoint().left-1+"px",document.getElementById("blink").style.top=n.getCaretTopPoint().top+"px",n.cursorBlink(),setTimeout((function(){document.getElementById("terminal-input").focus()}),10)):(K=!1,R&&clearTimeout(R),document.getElementById("blink").style.display="none",(i=[]).push({text:"blinking off",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),document.getElementById("blink-sheet")&&document.getElementById("blink-sheet").remove()),e.abrupt("break",789);case 58:return b=t.split(r+" ")[1],_=b?b.split(" ")[0]:Y,($=b&&b.split(" ")[1]?b.split(" ")[1].split(","):[])[0]||($[0]="x"),$[1]||($[1]="y"),Y=Number(_),W=!0,(i=[]).push({text:"Movement controls enabled. Press up, down, left or right to move. Press escape (esc) to exit movement controls.",choice:!1,color:"white",hide_prompt:!0}),n.addLines(t,i,!1,!1,!1),n.hideConsole(),e.abrupt("break",789);case 70:return w=t.split(r+" ")[1],"_mute"===r&&(w="off"),"_unmute"===r&&(w="on"),"on"===w?(k=!0,z=!0):(k=!1,z=!1),!1===z?ee():te(),(i=[]).push({text:k?"sound on":"sound off",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 79:return(h=t.split(r+" ")[1])&&(x=h.split(" ")[0]),x||(x=0),v="off"!==x,n.typer=v,n.speed=!1===x?0:x,(i=[]).push({text:"typing "+(v?"on":"off"),choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 90:return M=!0,E=t.split(r+" ")[1],(i=[]).push({text:"_frame",choice:!1,frame:E,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 96:return M=!0,document.getElementById("frame")&&document.getElementById("frame").remove(),L=t.split(r+" ")[1],O=L.split(" ")[0],S=L.split(" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/frame/":"https://system.simterm.com/portal/frame/",(i=[]).push({text:"_frame",choice:!1,frame:H,file:O,com:S,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 108:return M=!0,document.getElementById("frame")&&document.getElementById("frame").remove(),L=t.split(r+" ")[1],O=L.split(" ")[0],S=L.split(" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/winframe/":"https://system.simterm.com/portal/winframe/",(i=[]).push({text:"_frame",choice:!1,frame:H,file:O,com:S,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 120:return M=!0,document.getElementById("frame")&&document.getElementById("frame").remove(),L=t.split(r+" ")[1],O=L.split(" ")[0],S=L.split(" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/winfile/":"https://system.simterm.com/portal/winfile/",(i=[]).push({text:"_frame",choice:!1,frame:H,file:O,com:S,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 132:return M=!0,L=t.split(r+" ")[1],O=L.split(" ")[0],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/frame/":"https://system.simterm.com/portal/frame/",(i=[]).push({text:"_frame",choice:!1,frame:H,file:O,com:O,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 142:return document.getElementById("frame")&&document.getElementById("frame").remove(),M=!0,L=t.split(r+" ")[1],O=L.split(" ")[0],S=L.split(" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/framefile/":"https://system.simterm.com/portal/framefile/",(i=[]).push({text:"_frame",choice:!1,frame:H,file:O,com:S,stream:!0,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 154:return document.getElementById("frame")&&((D=document.getElementById("frame")).style.width="100%",D.style.height=.75*D.offsetWidth+"px"),(D=document.body).requestFullscreen?D.requestFullscreen():D.webkitRequestFullscreen?D.webkitRequestFullscreen():D.msRequestFullscreen&&D.msRequestFullscreen(),e.abrupt("break",789);case 158:return document.getElementById("frame")&&document.getElementById("frame").remove(),M=!0,L=t.split(r+" ")[1],O=L.split(" ")[0],S=L.split(" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/framefull/":"https://system.simterm.com/portal/framefull/",(i=[]).push({text:"_frame",choice:!1,full:!0,frame:H,file:O,com:S,stream:!0,color:"yellow"}),n.addLines(t,i,!1,!1,!0),e.abrupt("break",789);case 170:return n.custom=!1,n.custom_process="",(i=[]).push({text:"custom sim unloaded",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 176:return M=!1,document.getElementById("frame")&&document.getElementById("frame").remove(),(i=[]).push({text:"unloaded",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 182:return n.offline=!0,s=Object.assign({},n.props.term),n.props.changeTerm(s).then((function(){(i=[]).push({text:"offline mode",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),window.socket&&window.socket.disconnect()})),e.abrupt("break",789);case 186:return w=t.split(r+" ")[1],U=!(!w||"sound"!==w),n.custom=!1,n.custom_process="",n.term_wait(t,"attempting to connect"),C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/":"https://system.simterm.com/",n.offline?window.socket?window.socket.connect():n.sockets():window.socket&&n.pushSocket(window.socket,t),e.abrupt("break",789);case 196:return A=t.split(r+" ")[1],F=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/portal/sim/":"https://system.simterm.com/portal/sim/",F(A)?(H=A,T.a.get(H).then((function(e){console.log(e)}))):T.a.post(H,{sim:A}).then((function(e){n.offline=!0,n.custom=!0,(i=[]).push({text:"custom sim mode",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),window.socket&&window.socket.disconnect(),n.custom_process=e.data.sim})),e.abrupt("break",789);case 203:return N=t.split(r+" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/":"https://system.simterm.com/",T.a.post(H+"portal/force",{password:N}).then((function(e){if(!0===e.data.status)if(n.offline=!1,n.term_wait(t),window.socket){var r=Object.assign({},n.props.term);r.socket="system",r.su=!0,n.props.setTerm(r);var o=function(){};window.socket_callback=o,window.socket.connect()}else(r=Object.assign({},n.props.term)).su=!0,n.props.setTerm(r),o=function(){n.pushSocket(window.socket,"set system "+N)},window.socket_callback=o,n.sockets();else(i=[]).push({text:c="cannot force online",choice:!1,color:"red"}),n.addLines(t,i,!0,!0,!1)})),e.abrupt("break",789);case 209:if(q=t.split(r+" ")[1],V=n.extractAllText(q),X=q.split(" "),V.length||X.length&&(V.push(X[0]),(G=t.split(X[0]+" ")[1])&&V.push(G)),1===V.length&&X&&X.length&&((Q=n.extractAllText(X[0])[0])||(Q=X[0]),Q&&(Z=q.split(X[0]+" "),V[1]=n.extractAllText(Z[1])[0]),Q!==V[0]&&(V[0]=Q)),X&&X[1]&&X[1]!==V[1]&&void 0===V[1]&&(V[1]=X[1]),re=Object.assign({},n.props.term),ne=re.crypto,oe=ne.last_output?ne.last_output:V[1]?V[1]:"No Buffered Output",ne.last_output){e.next=225;break}return(i=[]).push({text:c=oe,choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 225:return n.term_wait(t),n.pushSocketData(window.socket,{message:"crypto_send",payload:{to:V[0],message:oe}},(function(){})),e.abrupt("break",789);case 228:if(re=Object.assign({},n.props.term),(ne=re.crypto).target){e.next=237;break}return(i=[]).push({text:c="No target specified",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 237:if(q=t.split(r+" ")[1],V=n.extractAllText(q),re=Object.assign({},n.props.term),ne=re.crypto,oe=ne.last_output?ne.last_output:"No Buffered Output",ne.last_output){e.next=249;break}return(i=[]).push({text:c="nothing to send",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 249:return n.term_wait(t),n.pushSocketData(window.socket,{message:"crypto_send",payload:{to:ne.target,message:oe}},(function(){})),e.abrupt("break",789);case 252:return re=Object.assign({},n.props.term),ne=re.crypto,oe=ne.last_output?ne.last_output:"No Buffered Output",(i=[]).push({text:c='<pre class="selectable-text">'+oe+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 261:return re=Object.assign({},n.props.term),ne=re.crypto,c=ne.public_key?"Public Key:<br />"+ne.public_key:"No Public Key",(i=[]).push({text:c,choice:!1,color:"yellow",offline:n.offline}),c=ne.private_key?"Private Key:<br />"+ne.private_key:"No Private Key",i.push({text:c,choice:!1,color:"yellow"}),c=ne.passphrase?"Passphrase:<br />"+ne.passphrase:"No Passphrase",i.push({text:c,choice:!1,color:"yellow"}),c=ne.hash?"Hash:<br />"+ne.hash:"No Hash",i.push({text:c,choice:!1,color:"yellow"}),c=ne.name?"Name:<br />"+ne.name:"No Name",i.push({text:c,choice:!1,color:"yellow"}),c=ne.email?"Email:<br />"+ne.email:"No Email",i.push({text:c,choice:!1,color:"yellow"}),c=ne.recipient?"Recipient:<br />"+ne.recipient:"No Recipient",i.push({text:c,choice:!1,color:"yellow"}),c=ne.from?"From:<br />"+ne.from:"No From",i.push({text:c,choice:!1,color:"yellow"}),c=ne.signature?"Signature:<br />"+ne.signature:"No Signature",i.push({text:c,choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 284:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),delete(ne=re.crypto).last_output,delete ne.recipient,delete ne.public_key,delete ne.private_key,delete ne.passphrase,delete ne.hash,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="cryptography credentials reset",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 301:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),delete(ne=re.crypto).last_output,delete ne.recipient,delete ne.hash,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="cryptography fields cleared",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 315:if(I){e.next=318;break}return n.no_crypto(t),e.abrupt("return",!1);case 318:if(se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,se||(se=ne.last_output?ne.last_output:null),se){e.next=329;break}return(i=[]).push({text:c="no message to encrypt",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 329:if(ne.recipient){e.next=336;break}return(i=[]).push({text:c="no recipient specified",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 336:return n.encrypt(se).then((function(e){var r=Object.assign({},n.props.term),o=r.crypto;o.last_output=e,r.crypto=o,n.props.setTerm(r);var s='<pre class="selectable-text">'+e+"</pre>",c=[];c.push({text:s,choice:!1,color:"yellow"}),n.addLines(t,c,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 338:return(ce=t.split(r+" ")[1])||(ce="public"),"public"===ce?(ce="public key",ie="public_key"):(ce="from",ie="from"),re=Object.assign({},n.props.term),ne=re.crypto,e.next=345,I.key.readArmored(ne[ie]);case 345:return ae=e.sent,pe=ae.keys[0].keyPacket.keyid.toHex(),(i=[]).push({text:"<pre>key id for "+ce+" is "+pe+"</pre>",choice:!1,color:"yellow"}),n.addLines("_crypto_key",i,!0,!0,!1),e.abrupt("break",789);case 351:if(I){e.next=354;break}return n.no_crypto(t),e.abrupt("return",!1);case 354:return re=Object.assign({},n.props.term),ne=re.crypto,se=t.split(r+" ")[1],n.decrypt(se).then((function(e){if(i=[],!e.signatures[0].valid)return ne.from?(i.push({text:"bad signature",choice:!1,color:"yellow"}),i.push({text:"original message:",choice:!1,color:"yellow"}),i.push({text:e.data,choice:!1,color:"yellow"}),n.addLines("<pre>_crypto_decrypt</pre>",i,!0,!0,!1),!1):(i.push({text:"no signature",choice:!1,color:"yellow"}),i.push({text:"original message:",choice:!1,color:"yellow"}),i.push({text:e.data,choice:!1,color:"yellow"}),n.addLines("<pre>_crypto_decrypt</pre>",i,!0,!0,!1),!1);i.push({text:"<pre>signed by key id "+e.signatures[0].keyid.toHex()+"</pre>",choice:!1,color:"yellow"}),n.addLines("_crypto_decrypt",i,!0,!0,!1),(i=[]).push({text:"original message:",choice:!1,color:"yellow"}),i.push({text:"<pre>"+e.data+"</pre>",choice:!1,color:"yellow"}),n.addLines("",i,!1),n.term_ready()})),e.abrupt("break",789);case 359:if(I){e.next=362;break}return n.no_crypto(t),e.abrupt("return",!1);case 362:if(re=Object.assign({},n.props.term),ne=re.crypto,(se=t.split(r+" ")[1])||(se=ne.last_output?ne.last_output:null),se){e.next=373;break}return(i=[]).push({text:c="no message to encrypt",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 373:if(ne.recipient){e.next=380;break}return(i=[]).push({text:c="No recipient specified",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 380:return n.encryptPublic(se).then((function(e){console.log(e),ne.last_output=e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 382:if(I){e.next=385;break}return n.no_crypto(t),e.abrupt("return",!1);case 385:return se=t.split(r+" ")[1],n.decryptPublic(se).then((function(e){re=Object.assign({},n.props.term),(ne=re.crypto).last_output=e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines("<pre>"+t+"</pre>",i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 388:if(I){e.next=391;break}return n.no_crypto(t),e.abrupt("return",!1);case 391:if(re=Object.assign({},n.props.term),ne=re.crypto,(se=t.split(r+" ")[1])||(se=ne.last_output?ne.last_output:null),se){e.next=402;break}return(i=[]).push({text:c="no message to encrypt",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 402:return n.encryptPublicSystem(se).then((function(e){ne.last_output=e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.term_wait("_crypto_encrypt_system"),n.pushEncryptedSocket(window.socket,{message:"encrypted",payload:e,public_key:ne.public_key},(function(){}))})),e.abrupt("break",789);case 404:if(I){e.next=407;break}return n.no_crypto(t),e.abrupt("return",!1);case 407:if(re=Object.assign({},n.props.term),ne=re.crypto,(se=t.split(r+" ")[1])||(se=ne.last_output?ne.last_output:null),se){e.next=418;break}return(i=[]).push({text:c="no message to encrypt",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 418:return n.encryptPublicSystem(se).then((function(e){ne.last_output=e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1)})),e.abrupt("break",789);case 420:return le=t.split(r+" ")[1],(i=[]).push(JSON.parse(le)),n.addLines("_line",i,!0,!0,!1),e.abrupt("break",789);case 425:return re=Object.assign({},n.props.term),ne=re.crypto,n.copying=!0,n.copyStringToClipboard(ne.last_output),e.abrupt("break",789);case 430:return re=Object.assign({},n.props.term),ne=re.crypto,n.copying=!0,n.copyStringToClipboard(J),e.abrupt("break",789);case 435:return n.terminalInput.value=J,n.resetHeight(),e.abrupt("break",789);case 438:return re=Object.assign({},n.props.term),ne=re.crypto,ue=JSON.stringify(ne),n.copying=!0,console.log(ue),n.copyStringToClipboard(ue,"exported cryptography to clipboard","_crypto_export"),e.abrupt("break",789);case 445:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,me=JSON.parse(se),de=Object.assign({},me),ne=de,re.crypto=de,n.props.changeTerm(re).then((function(){(i=[]).push({text:c="credentials imported",choice:!1,color:"yellow"}),n.addLines("_crypto_import",i,!0,!0,!1)})),e.abrupt("break",789);case 454:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,de=JSON.parse(B.get("crypto")),ne=de,re.crypto=de,n.props.changeTerm(re).then((function(){(i=[]).push({text:c="credentials imported",choice:!1,color:"yellow"}),n.addLines("_crypto_import_store",i,!0,!0,!1)})),e.abrupt("break",789);case 462:return re=Object.assign({},n.props.term),ne=re.crypto,ue=JSON.stringify(ne),B.set("crypto",ue),(i=[]).push({text:c='<pre class="selectable-text">credentials stored</pre>',choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 471:return re=Object.assign({},n.props.term),ne=re.crypto,ue=JSON.stringify(ne),B.remove("crypto"),(i=[]).push({text:c='<pre class="selectable-text">credentials no longer stored</pre>',choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 480:if(j){e.next=483;break}return n.no_crypto(t),e.abrupt("return",!1);case 483:if(se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,se||(se=ne.last_output?ne.last_output:null),"recipient"===se&&(se=ne.recipient),"public_key"!==se&&"public"!==se||(se=ne.public_key),se){e.next=496;break}return(i=[]).push({text:c="no value to hash",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 496:return ye=j(se.trim()),ne.hash=ye,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+ye+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 506:if(fe=t.split(r+" ")[1]){e.next=514;break}return(i=[]).push({text:c="no command to execute",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(n.offline),e.abrupt("return",!1);case 514:return he=fe.split(" ")[0],ge=fe.split(he+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto)[he]=ge,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c=he+" set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 527:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,ye=se?se.trim():null,ne.hash=ye,re.crypto=ne,n.props.setTerm(re),n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:ne},(function(){(i=[]).push({text:c="crypto hash value set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 536:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,c=ne.hash?ne.hash:"No Hash",(i=[]).push({text:c,choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 545:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).passphrase=se,re.crypto=ne,n.props.setTerm(re),n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:ne},(function(){(i=[]).push({text:c="passphrase set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 553:return be=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,"@"===be&&(be=ne.public_key?ne.public_key:null),ne.recipient=be,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="recipient set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 566:return re=Object.assign({},n.props.term),(ne=re.crypto).from=ne.public_key,ne.recipient=ne.public_key,n.props.setTerm(re),(i=[]).push({text:c="recipient and from set to public key",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 577:return _e=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).signature=_e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="signature set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 589:return _e=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,"@"===_e&&(_e=ne.public_key?ne.public_key:null),ne.from=_e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="from set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 602:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).email=se,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="email set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 614:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).name=se,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="name set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 626:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).last_output=se,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="buffer loaded",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 638:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).target=se,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c="target set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("break",789);case 650:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).public_key=se,re.crypto=ne,n.props.setTerm(re),n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:ne},(function(){(i=[]).push({text:c="public key set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 658:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),(ne=re.crypto).public_key=se,re.crypto=ne,n.props.setTerm(re),n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:ne},(function(){(i=[]).push({text:c="private key set",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 666:if(I){e.next=669;break}return n.no_crypto(t),e.abrupt("return",!1);case 669:return se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,n.signDetached(se).then((function(e){ne.last_output=e,re.crypto=ne,ne.signature=e,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 674:if(I){e.next=677;break}return n.no_crypto(t),e.abrupt("return",!1);case 677:if(se=t.split(r+" ")[1],re=Object.assign({},n.props.term),ne=re.crypto,(se=t.split(r+" ")[1])||(se=ne.last_output?ne.last_output:null),se){e.next=689;break}return(i=[]).push({text:c="no message to encrypt",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready(),e.abrupt("return",!1);case 689:return we=ne&&ne.hash&&ne.hash.trim().length>0?se.trim()+"\r\n\r\nSHA-256 hash of public key of original intended recipient of this signed message:\r\n"+ne.hash+"\r\n":se.trim(),n.signIt(we).then((function(e){ne.last_output=e,re.crypto=ne,n.props.setTerm(re),(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 692:return se=t.split(r+" ")[1],n.verifySig(se).then((function(e){})),e.abrupt("break",789);case 695:if(I){e.next=698;break}return n.no_crypto(t),e.abrupt("return",!1);case 698:return se=t.split(r+" ")[1],n.verifyIt(se).then((function(e){(i=[]).push({text:c='<pre class="selectable-text">'+e+"</pre>",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),n.term_ready()})),e.abrupt("break",789);case 701:if((se=t.split(r+" ")[1])&&(ke=se.split(" ")[0],xe=se.split(" ")[1]),ke||(ke="roboto_mono"),xe||(xe=1),document.getElementById("custom-font")&&document.getElementById("custom-font").remove(),se){e.next=711;break}g="<style id=\"custom-font\">\n          \n            @font-face {\n              font-family: 'cc';\n              src: url('/assets/cascadia/woff2/CascadiaMono.woff2') format('woff2'); \n              font-weight: normal;\n              font-style: normal;\n            }\n            \n            body, .terminal, pre {\n             font-family: 'cc', monospace !important          \n            }\n            \n            html {\n              zoom: "+xe+"\n            }\n            </style>",document.head.insertAdjacentHTML("beforeend",g),e.next=716;break;case 711:if("monospace"!==se){e.next=715;break}return g='<style id="custom-font">\n                      \n            body, .terminal, pre {\n             font-family: monospace !important          \n            }\n            \n            html {\n              zoom: '+xe+"\n            }\n            </style>",document.head.insertAdjacentHTML("beforeend",g),e.abrupt("return",!1);case 715:document.head.insertAdjacentHTML("beforeend","<style id=\"custom-font\">@font-face {\n            font-family: 'square';\n            src: URL('/assets/"+ke+".ttf') format('truetype');\n          }\n          \n          html, body, pre, *, {\n           font-family: 'square', monospace !important          \n          }\n          \n          html {\n            zoom: "+xe+"\n          }\n          </style>");case 716:return e.abrupt("break",789);case 717:return(se=t.split(r+" ")[1])&&(xe=se.split(" ")[0]),ke||(ke="cc"),xe||(xe=1),document.getElementById("custom-font")&&document.getElementById("custom-font").remove(),g="<style id=\"custom-font\">\n          \n@font-face {\n  font-family: 'cc';\n  src: url('/assets/cascadia/woff2/CascadiaMono.woff2') format('woff2'); \n  font-weight: normal;\n  font-style: normal;\n}\n\nbody, .terminal, pre {\n font-family: 'cc', monospace !important          \n}\n\nhtml {\n  zoom: "+xe+"\n}\n</style>",document.head.insertAdjacentHTML("beforeend",g),e.abrupt("break",789);case 725:return n.offline_flag&&!n.offline?n.pushSocket(window.socket,t,(function(){document.getElementById("custom_css")&&document.getElementById("custom_css").remove();var e=Object.assign({},n.props.term);e.history.lines=[],e.history.cursor=0,e.socket="system",n.props.setTerm(e)})):n.offline_flag?(N=t.split(r+" ")[1],C="is_offline_flag_true",P="simterm.com"===window.location.host?"system.simterm.com":window.location.host,H=window.location.href.indexOf(C)>-1?"http://"+P+"/":"https://system.simterm.com/",T.a.post(H+"portal/force",{password:N}).then((function(e){if(!0===e.data.status)if(n.offline=!1,n.term_wait(t),window.socket){var r=Object.assign({},n.props.term);r.su=!0,n.props.setTerm(r);var o=function(){};window.socket_callback=o,window.socket.connect()}else(r=Object.assign({},n.props.term)).su=!0,n.props.setTerm(r),o=function(){n.pushSocket(window.socket,"set system "+N)},window.socket_callback=o,n.sockets();else(i=[]).push({text:c="cannot force online",choice:!1,color:"red"}),n.addLines(t,i,!0,!0,!1)}))):(n.offline=!0,(i=[]).push({text:"offline mode",choice:!1,color:"yellow"}),n.addLines(t,i,!0,!0,!1),window.socket&&window.socket.disconnect()),e.abrupt("break",789);case 727:return re=Object.assign({},n.props.term),delete(ve=re.crypto).private_key,delete ve.passphrase,n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:ve},(function(){})),e.abrupt("break",789);case 733:if(I){e.next=736;break}return n.no_crypto(t),e.abrupt("return",!1);case 736:return Ee=t.split(r+" ")[1],n.term_wait(t,"generating credentials",n.offline),n.genKey(Ee||4096).then((function(e){var t=Object.assign({},e);(i=[]).push({text:c="cryptography credentials generated",choice:!1,color:"yellow"}),n.addLines("",i,!1),n.pushSocketData(window.socket,{message:"cryptography_credentials",payload:t},(function(){n.term_ready();var e=t.public_key+"\r\n\r\n"+t.private_key+"\r\n\r\npassphrase:\r\n"+t.passphrase,r=Object.assign({},n.props.term),o=r.crypto;o.last_output=e,r.crypto=o,n.props.setTerm(r)}))})),e.abrupt("break",789);case 740:return q=t.split(r+" ")[1],V=n.extractAllText(q),re=Object.assign({},n.props.term),ne=re.crypto,V.length?(V[0]?ne.passphrase=V[0]:delete ne.passphrase,V[1]?ne.name=V[1]:delete ne.name,V[2]?ne.email=V[2]:delete ne.email):((Te=q.split(" "))[0]?ne.passphrase=Te[0]:delete ne.passphrase,Te[1]?ne.name=Te[1]:delete ne.name,Te[2]?ne.email=Te[2]:delete ne.email),n.props.setTerm(re),(i=[]).push({text:c="cryptography system configured",choice:!1,color:"yellow",offline:n.offline}),n.addLines(t,i,!0,!0,!1),e.abrupt("break",789);case 751:return re=Object.assign({},n.props.term),ve=re.crypto,n.term_wait(t),n.pushSocketData(window.socket,{message:"cryptography_settings",payload:ve},(function(){})),e.abrupt("break",789);case 756:return I.destroyWorker().then((function(e){delete window.sha256,delete window.openpgp,j=null,I=null,document.getElementById("sha256_script").remove(),document.getElementById("openpgp_script").remove();var r=[];r.push({text:"cryptography system unloaded",choice:!1,color:"yellow"}),n.addLines(t,r,!0,!0,!1),n.toggleCrypto(!1)})),e.abrupt("break",789);case 758:return(i=[]).push({text:"loading cryptography",choice:!1,color:"yellow",offline:n.offline,class:"awaiting"}),n.addLines(t,i,!0,!0,!1),n.load_crypto(t),e.abrupt("break",789);case 763:return(s=Object.assign({},n.props.term,{})).lines=[],s.su=!1,s.socket=null,n.props.changeTerm(s).then((function(){window.socket.disconnect(),window.socket=null,window.socket_callback=function(){n.clearHistory(),c="session reset";var e=[];e.push({text:c,choice:!1,color:"blue"}),n.addLines(t,e,!1)},n.sockets()}),s),e.abrupt("break",789);case 769:case 772:return n.term_wait(t),n.pushSocket(window.socket,t),e.abrupt("break",789);case 775:return n.hideConsole(),500,Le=0,Oe=0,Ie=[],je=!1,Be=function e(){if(!1===n.playing)return!1;Oe++;var r=[];r.push({text:Ie[Oe-1],choice:!1,color:"blue"}),n.addLines(t,r,!1,!1,!0),Oe<500||(Oe=0),n.playing=setTimeout(e,33)},Se=function(e){if(je)return!1;n.addLines(t,e,!1,!1,!0)},Ce=function e(){var t=(++Le).toString();Le<500?n.playing=setTimeout(e,10):(je=!0,Be());for(var r=4-t.length,o="",s=0;s<r;s++)o+="0";var c=o+t+".txt",i="simterm.com"===window.location.host?"system.simterm.com":window.location.host+"/",a=window.location.href.indexOf("is_offline_flag_true")>-1?"http://"+i:"https://system.simterm.com/";console.log(a),T()({method:"get",url:a+"converted/"+c}).then((function(e){Ie.push(e.data);var t=[];t.push({text:e.data,choice:!1,color:"blue"}),Se(t)})).catch((function(e){}))},n.playing=setTimeout(Ce,0),e.abrupt("break",789);case 786:return n.term_wait(t),n.pushSocket(window.socket,t),e.abrupt("break",789);case 789:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n.showID=function(e){document.getElementById(e).style.visibility="visible"},n.addLines=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;r&&n.writeLine(-1,{text:e,choice:!1,color:"blue"},-1,t.length,"termLine",r,s);var c=0;for(var i in t){var a=parseInt(i),p=t[i];if(!1!==p.count&&c++,p.offline){c++;var l=Object.assign({},Q);t[i].offline_message&&(l.text=t[i].offline_message),n.writeLine(c,l,!1,t.length,null,null,s)}t[i].copy&&(J=t[i].copy_data?t[i].copy_data:p.text),n.writeLine(c,p,a,t.length,null,null,s)}o&&!t[0].hide_prompt&&n.term_ready()},n.toggleCrypto=function(e){var t=Object.assign({},n.props.term);t.crypto_tools=e,n.props.setTerm(t),n.cleanUp(),n.term_ready()},n.writeLine=function(e,t,r,s,c,i,a){var p=n.props.term.su?n.su_prompt:n.u_prompt;n.props.term.crypto_tools&&(p=n.props.term.su?n._crypto_su_prompt:n._crypto_u_prompt),t.config||(t.config={});var l={choice:e,line:t,multi:r,total:s,class:c,header:i,prompt:o.a.createElement("div",{className:"termLabel",dangerouslySetInnerHTML:{__html:p}})},u=n.props.term.lines;a&&(u=[]),u.push(l);var m=Object.assign({},n.props.term);m.lines=u,n.props.setTerm(m),window.scrollTo(0,document.body.scrollHeight),setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),10),parseInt(e)},n.pushSocket=function(e,t,r){if(n.offline)return n.term_ready(),!1;e.emit("message",t),r&&r()},n.pushEncryptedSocket=function(e,t,r){if(n.offline)return n.term_ready(),!1;e.emit("encrypted",t),r&&r()},n.pushSocketData=function(e,t,r){if(n.offline)return n.term_ready(),r&&r(),!1;e.emit("data",t),r&&r()},n.type_writer=function(e,t,r,o,s,c,i){if(e=r.props.val,!n.typer||i)return document.getElementById(s)&&(document.getElementById(s).innerHTML=e),"Awaiting response..."!==r.props.val&&(n.typed[c]=!0),!1;o+=e.charAt(t),document.getElementById(s)&&(document.getElementById(s).innerHTML=o),t<e.length?(t++,setTimeout((function(){n.type_writer(e,t,r,o,s,c)}),n.speed)):"Awaiting response..."!==r.props.val&&(n.typed[c]=!0)},n.audio_ref=o.a.createRef(),n}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;if(document.body.style.transform="scale(1)",document.body.style.transformOrigin="0 0",window.devicePixelRatio>1){var t=1/window.devicePixelRatio;document.body.style.transform="scale("+t+")",document.body.style.transformOrigin="0 0"}var r=window.location.href.indexOf("force_offline")>-1;if(r){this.offline=!0;var n=[];n.push({text:"bypassing system connection",choice:!1,color:"yellow"}),n.push({text:"forced offline mode",choice:!1,color:"yellow"}),this.addLines("",n,!1),this.term_ready()}else this.offline=!1;this.offline=!0,this.refs=[],this.offline?r||(this.term_ready(this.offline,"system booted in offline mode"),(n=[]).push({text:"type connect and press enter to use the online system",choice:!1,color:"yellow"}),this.addLines("",n,!1)):this.sockets(),this.custom=!1,this.custom_process="",this.playing=!1,this.copying=!1,this.speed=0,this.typer=!1,this.typed=[];this.offline_flag=window.location.href.indexOf("is_offline_flag_true")>-1,document.onkeyup=function(t){if(M&&27!==t.keyCode)return!1;e.checkWindowKey(t)},document.onkeydown=function(t){W&&e.checkMoveKey(t)},document.addEventListener("fullscreenchange",(function(){!document.fullscreenElement&&document.getElementById("frame")&&(document.getElementById("frame").style.width="640px",document.getElementById("frame").style.height="480px")})),document.addEventListener("contextmenu",(function(t){e.offline_flag||t.preventDefault()})),document.addEventListener("click",(function(e){document.getElementById("terminal-input").focus()}))}},{key:"componentDidUpdate",value:function(){}},{key:"hideID",value:function(e){document.getElementById(e).style.visibility="hidden"}},{key:"render",value:function(){var e=this,t=this.props.term.su?this.su_prompt:this.u_prompt;this.props.term.crypto_tools&&(t=this.props.term.su?this._crypto_su_prompt:this._crypto_u_prompt);var r=this.props,n=0,s=r.term.lines.map((function(t,r){var s=t.line.config;if(t.line.color&&"white"!==t.line.color)var c=!0;var i={newLine:!0,flush:!1===t.margin};c&&(i[t.line.color]=!0),t.line.class&&(i[t.line.class]=!0),"_frame"===t.line.text&&(i.center=!0);var a=k()(i),p=t.line.label?t.line.label:"",l=t.line.trigger?t.line.trigger:"",u=o.a.createElement("span",{className:"choice"},l," "),m=(new Date).getMilliseconds()+"_"+n,d="line_"+n;if("_frame"===t.line.text)var y=t.line.text;else y=t.line.text;if(e.typed[d])f=o.a.createElement("span",{id:m},y);else var f=o.a.createElement("span",{id:m});var h=(t.line.memo,y);if(t.line.memo&&!e.refs[m]&&(e.refs[m]=o.a.createRef()),t.line.component)var g=o.a.createElement("div",{className:t.class?t.class:"responseLine"},p,u,o.a.createElement("span",{id:m+"_sound"},t.line.component));else g=o.a.createElement("div",{className:t.class?t.class:"responseLine"},p,u,o.a.createElement("span",{id:m},e.typed[d]?o.a.createElement("span",{dangerouslySetInnerHTML:{__html:(t.line.memo,y)}}):""));var b=!1;if(!1!==s.typer)var _=!1;else _=!0;(t.header||_)&&(b=!0),e.typed[d]||setTimeout((function(){e.type_writer(f,0,{props:{val:h}},"",m,d,b)}),1),"Awaiting response..."!==t.line.text&&n++;var w="/"+t.line.com;if(t.line.stream&&(w="/"+t.line.com),window.location.href.indexOf("is_offline_flag_true")>-1&&(w+="?is_offline_flag_true"),"_frame"===t.line.text&&t.line.full)var x={border:"0px",width:"640px",height:"480px"};else x={border:"0px",width:"640px",height:"480px"};if("_frame"===t.line.text&&t.line.full)var v={border:"0px",width:"640px",height:"480px"};else v={border:"0px",width:"640px",height:"480px"};return o.a.createElement("div",{key:r,className:a},t.header?t.prompt:"","_frame"===t.line.text?t.line.file?o.a.createElement("iframe",{id:"frame",style:x,title:"frame",src:t.line.frame+t.line.file+w,onLoad:t.line.full?function(){var e=document.getElementById("frame");e.style.width="75%",e.style.height=.75*e.offsetWidth+"px",(e=document.body).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}:function(){}}):o.a.createElement("iframe",{id:"frame",style:v,title:"frame",src:"/assets/"+t.line.frame+".html",onLoad:t.line.full?function(){var e=document.getElementById("frame");e.style.width="75%",e.style.height=.75*e.offsetWidth+"px",(e=document.body).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}:function(){}}):g)}));return o.a.createElement(o.a.Fragment,null,s,o.a.createElement("div",{id:"loading"},"attempting to connect"),o.a.createElement("div",{id:"terminal_root",className:"terminal_root"},P?null:o.a.createElement("div",{className:"termLabel",dangerouslySetInnerHTML:{__html:t}}),K?S?o.a.createElement("div",{contentEditable:"true",id:"terminal-input",spellCheck:"false",maxLength:"2000000",autoFocus:!0,type:"password",className:"terminal term-blink",onBlur:this.reFocus,onChange:this.expandHeight,onKeyDown:this.checkKey,onKeyUp:this.readLine,ref:function(t){e.terminalInput=t},unselectable:"on",onFocus:function(){return!1}}):o.a.createElement("div",{contentEditable:"true",id:"terminal-input",spellCheck:"false",maxLength:"2000000",autoFocus:!0,type:"text",className:"terminal term-blink",onBlur:this.reFocus,onChange:this.expandHeight,onKeyDown:this.checkKey,onKeyUp:this.readLine,ref:function(t){e.terminalInput=t},unselectable:"on",onFocus:function(){return!1}}):S?o.a.createElement("input",{id:"terminal-input",spellCheck:"false",maxLength:"2000000",autoFocus:!0,type:"password",className:"terminal",onBlur:this.reFocus,onChange:this.expandHeight,onKeyDown:this.checkKey,onKeyUp:this.readLine,ref:function(t){e.terminalInput=t},unselectable:"on",onFocus:function(){return!1}}):o.a.createElement("textarea",{id:"terminal-input",spellCheck:"false",maxLength:"2000000",autoFocus:!0,type:"text",className:"terminal",onBlur:this.reFocus,onChange:this.expandHeight,onKeyDown:this.checkKey,onKeyUp:this.readLine,ref:function(t){e.terminalInput=t},unselectable:"on",onFocus:function(){return!1}}),o.a.createElement("div",{id:"blink"})),o.a.createElement("div",{style:{display:"none"},ref:function(t){return e.script_host=t}}))}}]),r}(n.Component),ne=Object(f.b)((function(e){return{term:e.term,temp:e.temp}}),(function(e){return{setTerm:function(t){e(g(t))},setTemp:function(t){return e(h(t))},changeTerm:function(t){return e((function(e){return Promise.resolve(e(g(t)))}))}}}))(re),oe=r(12);var se=function(){return!oe.isIE&&(oe.isChrome||oe.isFirefox||oe.isSafari||oe.isEdge||oe.isChromium)?o.a.createElement(ne,null):o.a.createElement("div",null," The simulation does not support this device.")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=r(11),ie=r(74),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTOR":var r=!0;return console.log(t),!0===r?ge.push(t.to):ge.replace(t.to),e;default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOCKET":return t.socket;default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMP":return t.temp;default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{side_menu_open:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UI":return t.ui;default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lines:[],typer:0,state:"ready",history:{lines:[],cursor:0},crypto:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TERM":return t.term;default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lines:[],typer:0,state:"ready",history:{lines:[],cursor:0},secure:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EX":return t.ex;default:return e}},fe=Object(ce.d)(Object(ce.c)({tools:ae,settings:pe,socket:le,temp:ue,ui:me,term:de,ex:ye}),Object(ce.a)(ie.a)),he=r(75),ge=Object(he.a)();c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,{store:fe},o.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,r){e.exports=r(182)},83:function(e,t,r){},84:function(e,t,r){}},[[78,1,2]]]);